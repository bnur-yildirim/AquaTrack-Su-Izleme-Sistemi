import{r as t,j as e}from"./index-ChYP-lOC.js";function u(){const[f,o]=t.useState(null),[r,d]=t.useState(1),[a,x]=t.useState([]);t.useEffect(()=>{m()},[r]);const m=async()=>{try{const[s,l]=await Promise.all([fetch("http://localhost:5000/api/metrics/unified"),fetch(`http://localhost:5000/api/metrics/reliability-ranking?horizon=${r}`)]),n=await s.json(),c=await l.json();n.status==="success"&&o(n.data),c.status==="success"&&x(c.ranking)}catch(s){console.error("Error:",s)}},h=s=>s>=90?"from-green-500 to-emerald-600":s>=75?"from-blue-500 to-cyan-600":s>=60?"from-yellow-500 to-orange-600":"from-red-500 to-pink-600",i=s=>s>=90?"text-green-400":s>=75?"text-blue-400":s>=60?"text-yellow-400":"text-red-400",j=s=>s===1?"ðŸ¥‡":s===2?"ðŸ¥ˆ":s===3?"ðŸ¥‰":`#${s}`;return!a||a.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"loading"})}):e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-3 mb-8",children:[1,2,3].map(s=>e.jsxs("button",{onClick:()=>d(s),className:`flex-1 px-6 py-4 rounded-xl font-bold transition-all ${r===s?"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-xl scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:s}),e.jsx("div",{className:"text-xs opacity-75",children:"Ay Ä°leri"})]},s))}),e.jsx("div",{className:"space-y-3",children:a.map((s,l)=>e.jsxs("div",{className:"relative group",style:{animationDelay:`${l*.1}s`},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h(s.score)} rounded-xl blur opacity-0 group-hover:opacity-30 transition-opacity`}),e.jsx("div",{className:"relative bg-slate-900 rounded-xl border border-slate-700 p-6 hover:border-slate-600 transition-all",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center min-w-[80px]",children:[e.jsx("div",{className:"text-4xl mb-1",children:j(s.rank)}),e.jsx("div",{className:"text-xs text-slate-500",children:"SÄ±ra"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s.lake_name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"WMAPE:"}),e.jsxs("span",{className:`font-bold ${s.wmape<2?"text-green-400":s.wmape<5?"text-blue-400":"text-orange-400"}`,children:[s.wmape.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"RÂ²:"}),e.jsxs("span",{className:`font-bold ${s.r2>.95?"text-green-400":s.r2>.9?"text-blue-400":s.r2>0?"text-yellow-400":"text-red-400"}`,children:[(s.r2*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"Veri Kalitesi:"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.data_quality==="Good"?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:s.data_quality==="Good"?"âœ“ Ä°yi":"âš  SÄ±nÄ±rlÄ±"})]})]})]}),e.jsxs("div",{className:"text-center min-w-[120px]",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",children:[e.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-slate-700"}),e.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-s.score/100)}`,className:i(s.score),strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:`text-2xl font-black ${i(s.score)}`,children:s.score.toFixed(0)}),e.jsx("div",{className:"text-xs text-slate-500",children:"/100"})]})]}),e.jsx("div",{className:`mt-2 text-xs font-semibold ${i(s.score)}`,children:s.reliability})]})]})})]},s.lake_id))}),e.jsxs("div",{className:"mt-8 p-6 bg-slate-900 rounded-xl border border-slate-700",children:[e.jsx("h4",{className:"font-bold text-white mb-4",children:"ðŸ“– Metrik AÃ§Ä±klamalarÄ±:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-300 mb-2",children:"WMAPE (Weighted Mean Absolute Percentage Error)"}),e.jsxs("p",{className:"text-slate-400",children:["GÃ¶l bÃ¼yÃ¼klÃ¼ÄŸÃ¼ne gÃ¶re aÄŸÄ±rlÄ±klÄ± yÃ¼zde hata. ",e.jsx("strong",{className:"text-white",children:"<2% = MÃ¼kemmel"}),", 2-5% = Ä°yi, >5% = GeliÅŸtirilmeli"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-300 mb-2",children:"RÂ² (Coefficient of Determination)"}),e.jsxs("p",{className:"text-slate-400",children:["Modelin aÃ§Ä±klama gÃ¼cÃ¼. ",e.jsx("strong",{className:"text-white",children:">95% = MÃ¼kemmel"}),", 90-95% = Ä°yi, <90% = Orta"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-purple-300 mb-2",children:"Unified Score"}),e.jsxs("p",{className:"text-slate-400",children:["TÃ¼m metrikleri birleÅŸtiren tek skor (0-100).",e.jsx("strong",{className:"text-white",children:"WMAPE (40%) + RÂ² (40%) + Theil's U (20%)"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-orange-300 mb-2",children:"Veri Kalitesi"}),e.jsxs("p",{className:"text-slate-400",children:[e.jsx("strong",{className:"text-white",children:">1000 sample = Ä°yi"}),", 500-1000 = Orta, <500 = SÄ±nÄ±rlÄ± Veri"]})]})]})]})]})}export{u as default};
